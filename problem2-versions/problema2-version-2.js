'use strict';

const mensaje = `
    SLkmmhGW;8tyHMlATtltpF7pls#FD:F/M:tig/nxAKtW111TQUw9Ngv2lateDnJiz:fL6J
    TeXSATtqzVbhS!/Hw5tXgmBkoraUYREC8akl6cRiOvqY!VuwaN5W610obnxrSkJBzkbGiM
    Ip:yT.nJMEjkuS8O4GSXyapB93aapm620HlwDZCihrjauOmxwGbTloSpWYP;lwpiasDhVM
    bdS:#sS2GlLF2.:CrcYo8:;mTJg04//LVN88#lezTe1ZChwsP0b4DO5Q4/.tKe4xfACFcp
    dU.eqBt1oQLhUO5LsQ.yMUpLHs1G6:veMRr3jUr0fHZZRQ2GvGMN:uzHcpatW037kFhGfH
    08zr;JrOVoYKBxo;VbtVShXlzcoYw#8.ON7kHqYe0BIYwmtBuXxaWkSoj!jS.593b3w/X.
    uhg5oIAz1pztomoFQEKlKkF_CYCQ!EfZAHXCwCBHdBmniB3L!6zmc8Sh8F6Qfn8.vLyBvh
    jotr4u9i7aLvQbFuGkue3jLY!Oh;KqqnRanwX!o!Ne5uS;XrVk4!:wDGKFi6;JMeiO8_X:
    ;LoS6ooTKLJl9IeO;ud1yk/soU!cwiFmYU:VlB/FIoG49CBK2#Vz9nANU_JTqu#f6cUfXE
    moDSSKGr7;hr:#hHerdBYrY#gev1kcPt4ASyVLh7EzL#RltaWOf/B_ibgC9ihD!YVrIG2!
    gMGaIB:YrVFgFvZUkb2oPL8o7_#TF0UZvZOxNS6_1bZ_fHrnCJIvaRzkriSuH/QSExbgEn
    UtFRkOl!a!U!4#HNXpVKJxGIDJLTV!mC7g50olHazl!PPuub8AjUKcKU;1#DH4Jz/yhTq#
    28Flb1pfWCCS8sfG2p46ojRfUUdDZ;ts9tRsxMYMrZtny;Hb.aCBA;V2o;1iiDziy:SEYH
    :qYBKvBp#s.Oow6fvKtT#BzodcI;.12zwlXkjHIgYCD60qiBQM:OzQGg250LSzTRl3wGts
    i.ib3OVc#TxepZgS9KDLMhpE0Z#9SXi;wvib4US!UurC1TmW7vyc/bkm:BCeW#5G3yJ4wN
    ARj.69.74ZSKIn/eHTYuvTDCBS.SV5/V7RFDz1WGa:!0I/kEanPjyr0rxw2H/YOup7QC58
    RGnrvsC4wnrS7Q1Vooi9bbkLPK!#;9n8XaJkbe;oMOx.Mt.CAJK6!wa749qESQ8LvkXo;#
    R3qZTtEYlxxSM#:xYivOCqrE9Fh1chizSogq!iRWcv!78;Jce4sOB#509RbVk5TKsigss!
    fplklKk:eOHpI3y6aDF8zvpTkpDLX/TuEYWIeDB9g126jlNV6gI4nCiEtAUIe!#:lTeRli
    .3/vqc:tvDbCw#sLbw6Lz3S:DjVFyZk#RYzsZ;pSpgpUwmFDu#zXJoCG#SHu!0W0D0btlW
    nrILB0qwQRtLfXjBHmzaQ9fw5vleTb4aQ3R8OMJyY4x!1HRclblp#8rCc4veo/IgVLW5nY
    3WuA3:/lhLG08LORE;8uGH5VWN3;0mr;q/HPF0IIHHSs9T;uZlSVY;0XystqltS#JtEMed
    V;pXDbxLsjZS#5OVEW.EGGV7pgK:R5iE9ozvX;zInKm8LuIN5eFDW3bLuQe4.IJSvLPpsT
    BVQGoAmKyN;zXGY6TxPTPVu;quDhpz#mbpx4RC7U!pcP4/JaNB.Gyet#lR;fbZAEqj21W#
    :a8NXlTH:vAkIE!mssNWMM6MAgkE:uUpM7ifURNbGZS!k;;jv8TbEmhCv2//CAiwyAAPKw
    FQOta#L83YHorms1lo1W5S/mvn!s.ydLRbb0BNeZVEGZZKT7Ij!c8k;mriXk84mjN.LYMM
    9OY7QhzbG8MJ1ZXCN:wC/dRtBmk7;q5miwDyzhua.PIv!Cr:mYSNkLJFfwVnJZ5tcMVggE
    UI:kfSrNyrj1njPO9z23YPiE!ZlH6tgNqzmciMT9a0PvbWiTQS0Wsu1G6gLb3.COXEGfoW
    bBOjJRbJ/AQRwB#I99gj8CB;necqsOAnSajjWRGCGJC41/Wmnt;sBLdt35KPLxz2guS;sC
    MoR5I2ZMoCu#JYZpoPcMxO7lIhnw8;HIjY52#;Hn2mgMgbpbBYI.s2L25KS!S!E0whBDJu
    36r0#QyU;bNyRyR2delAND9VBbHBhYy54MIl3dPDaqT8:;N./i2UtIT!pb.yDvExQVkRVi
    2tdGlJ:IkTZ2I3jBs:NRS!0EcY4xyM6TDvq.8tDZz37wORv7UjJ2qruF0.t0b#KC/tpJQh
    rnh4paBdx;3o#/MADij6bZZVWvHIaJY9ho8j0hwXaf9!NaOc0GWOZHhK4mM!S;:QfuIqLa
    SDcD8mspH9DT8NE7ZxJE.I#9H6S0SROzMr:UuXMU4Ns9Hi7SR7Wh4fXr1Ti5taaiOjraLK
    u;0dqla#KCIYjPkSGuFnW9WZ/O#6gTIGVX5tjzdQgXLu!AqZhfqlljE/LBWfkN59HGntDR
    HSBMijuQVhpE9kS:PTzEQ5NmFR3ZG7SH8V8p4T7:9uKsuMMNO3LCoU!2k0d!!5M68A37as
    E3:R;efoDKU4d/UkhuU;BsPikzaSjvo#cQhYs2JsByILx5qw1I2VwUZjoi0FY7Je:Hxb!b
    6JK0dPH#G7mgAgue#OQWxH#ND#rEjjNyZAN3PX#8F54VmY/9leR!BOtIexgTNIY!7!fIFX
    0K#KJX/AgAH2GJ3HNvhN5OfnIgCX5UcmJeOlkYIxgxWps3Vf3aIeqT#7XcIj;CgkX9qABQ
    6SoHk;3ElyPnx.IOA:B9vD0xPsVhfj7!w5MyXkeDyXTb.yEDBtnx6c3IhFq7ncX.LO9j47`;

// string into array

function isIndexMultipleOf(index, number) {
  return index % number === 0;
}

function isCharacterEqualTo(character, symbol) {
  return character === symbol;
}

const messageArr = Array.from(mensaje);

// // Remove line breaks and empty spaces
let arrayClean = [];
for (let i = 0; i < messageArr.length; i++) {
  if (messageArr[i].trim()) {
    arrayClean.push(messageArr[i]);
  }
}

// Replace all characters that are multiples of 2, 3, 7, 11 and 13
for (let i = 0; i < arrayClean.length; i++) {
  if (
    isNumberMultipleOf(i, 2) ||
    isNumberMultipleOf(i, 3) ||
    isNumberMultipleOf(i, 7) ||
    isNumberMultipleOf(i, 11) ||
    isNumberMultipleOf(i, 13) ||
    isCharacterEqualTo()
  ) {
    arrayClean[i] = '|';
  }
}

// Replace all capital letters by |
let replacedArr = arrayClean.map((c) => c.replace(/[A-Z]/g, '|'));

for (let i = 0; i < replacedArr.length; i++) {
  if (replacedArr[i] === '#' || replacedArr[i] === ';' || replacedArr[i] === '!') {
    replacedArr[i] = '|';
  }
}

// Remove all | characters from the array
for (let i = 0; i < replacedArr.length; i++) {
  if (replacedArr[i] === '|') {
    replacedArr[i] = '';
  }
}

// Convert array into a string
const string = replacedArr.join('');

// Trunk the string in the first 54 characters
const truncatedStr = string.substring(0, 54);

console.log(truncatedStr);

// https://generacionk.kairosds.com/esteeseproblema3.html
